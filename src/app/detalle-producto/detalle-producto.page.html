<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button (click)="goBack()" text=""></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="fondodetalle">

  <!-- 🧩 PRODUCTO DETALLE -->
  <div class="detalle-wrapper" *ngIf="producto">
    
    <!-- Imagen principal -->
    <div class="imagen-container">
      <ion-img
        [src]="producto.imagen_url || 'assets/img/default.png'"
        alt="{{ producto.titulo }}"
        class="producto-img">
      </ion-img>
    </div>

    <!-- Información -->
    <div class="detalle-info">
      <h1 class="titulo">{{ producto.titulo }}</h1>

      <p class="descripcion">
        {{ producto.descripcion || 'Sin descripción disponible.' }}
      </p>

      <div class="info-secundaria">
        <p><strong>Condición:</strong> {{ producto.condicion || 'No especificada' }}</p>
        <p><strong>Ubicación:</strong> {{ producto.region }} - {{ producto.ciudad }}</p>
      </div>

      <!-- Bloque de puntos -->
      <div class="puntos-box">
        <ion-icon name="trophy-outline" class="icono-puntos"></ion-icon>
        <h2>{{ producto.valor_puntos }} InterCoins</h2>
      </div>

      <!-- Botón de acción -->
      <ion-button expand="block" shape="round" class="btn-canjear" (click)="canjearProducto()">
        Canjear este producto
      </ion-button>
    </div>
  </div>

  <!-- Estado sin producto -->
  <div *ngIf="!producto" class="sin-producto">
    <ion-icon name="alert-circle-outline"></ion-icon>
    <p>Producto no disponible</p>
  </div>
</ion-content>

<app-footer-interens></app-footer-interens>
